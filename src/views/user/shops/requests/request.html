<template>
  <section class="order-actions">
    <form submit.delegate="update(editRequest)">
      <div>
        <label>Change Status</label>
        <select value.bind="editRequest.status">
          <option repeat.for="status of statuses" model.bind="status">${status}</option>
        </select>
      </div>
      <div if.bind="request.data.product_details && request.data.status === 'pending'">
        <div>
          <label>Price</label>
          <input type="number" step="0.01" value.bind="editRequest.total_price | toNumber"/>
        </div>
        <div>
          <label>Weight</label>
          <input type="number" step="0.01" value.bind="editRequest.weight | toNumber"/>
        </div>
        <div>
          <label>Delivery Date</label>
          <input type="date" value.bind="editRequest.delivery_date"/>
        </div>
      </div>
      <button type="submit">Save</button>
    </form>
  </section>
  <section class="order-user">
    <h3>
      User Information
    </h3>
    <div>
      <label>Ordered By</label>
      ${request.data.customer.name}
    </div>
    <div>
      <label>Email</label>
      ${request.data.customer.email}
    </div>
    <div>
      <label>Phone</label>
      ${request.data.customer.phone}
    </div>
    <div>
      <label>Shipping Address</label>
      <div>
        ${request.data.shipping_address.line_1}
      </div>
      <div>
        ${request.data.shipping_address.line_2}
      </div>
      <div>
        ${request.data.shipping_address.zip}
      </div>
      <div>
        ${request.data.shipping_address.city}
      </div>
      <div>
        ${request.data.destination.name}
      </div>
    </div>
  </section>

  <section class="shop-order-details">
    <h3>
      Order Details
    </h3>
    <div>
      <label>Product</label>
      ${request.data.product.name}
    </div>
    <div>
      <label>URL</label>
      <a href.bind="request.data.product.url || request.data.product_details.url" target="_blank">${request.data.product.url || request.data.product_details.url}</a>
    </div>
    <div>
      <label>Current Status</label>
      ${request.data.status}
    </div>
    <div>
      <label>Ordered At</label>
      ${request.data.created_at | toDate:'date'}
    </div>
    <div>
      <label>Delivery Date</label>
      ${request.data.delivery_date | toDate:'date'}
    </div>
    <div>
      <label>Collection Method</label>
      ${request.data.collection_method}
    </div>
    <div if.bind="request.data.bank_reference" class="request-info__bank">
      <label>Bank Reference</label>
      ${request.data.bank_reference}
    </div>
    <div if.bind="request.data.color">
      <label>Color</label>
      ${request.data.color.name}
    </div>
    <div if.bind="request.data.size">
      <label>Size</label>
      ${request.data.size.name}
    </div>
    <div if.bind="request.data.edition">
      <label>Edition</label>
      ${request.data.edition.name}
    </div>
    <div class="request-info__quantity">
      <label>Quantity</label>
      ${request.data.quantity}
    </div>
    <div class="request-info__price">
      <label>Price</label>
      ${request.data.currency} ${request.data.total_price}
    </div>
    <div if.bind="request.data.proof.length" class="request-info__proof">
      <label>Proof</label>
      <img src.bind="request.data.proof[0]" alt="">
    </div>
    <div if.bind="request.data.instructions">
      <label>Additional Notes</label>
      ${request.data.instructions}
    </div>
  </section>
</template>
